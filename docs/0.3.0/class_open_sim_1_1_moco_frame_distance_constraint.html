<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSim Moco: OpenSim::MocoFrameDistanceConstraint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen-style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSim Moco
   &#160;<span id="projectnumber">0.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_open_sim.html">OpenSim</a></li><li class="navelem"><a class="el" href="class_open_sim_1_1_moco_frame_distance_constraint.html">MocoFrameDistanceConstraint</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_open_sim_1_1_moco_frame_distance_constraint-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenSim::MocoFrameDistanceConstraint Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>This path constraint enforces that the distance between the origins of pairs of model frames is kept between minimum and maximum bounds. </p>
<p>Frame pairs and their bounds are specified via a MocoFrameDistancConstraintPair. Any model component derived from Frame is valid to be included in a frame pair, and any number of frame pairs may be append to this constraint via addFramePair().</p>
<p>This constraint can be used as a simple method for preventing bodies in your model from intersecting during an optimization. For example, the following prevents feet from intersecting during a walking optimization: </p><div class="fragment"><div class="line">distance = problem.addPathConstraint&lt;MocoFrameDistanceConstraint&gt;();</div><div class="line">distance.setName(<span class="stringliteral">&quot;minimum_distance&quot;</span>);</div><div class="line">SimTK::Real inf = SimTK::Infinity;</div><div class="line">distance.addFramePair(<span class="stringliteral">&#39;/bodyset/calcn_l&#39;</span>, <span class="stringliteral">&#39;/bodyset/calcn_r&#39;</span>, 0.1, inf);</div><div class="line">distance.addFramePair(<span class="stringliteral">&#39;/bodyset/toes_l&#39;</span>, <span class="stringliteral">&#39;/bodyset/toes_r&#39;</span>, 0.1, inf);</div><div class="line">distance.addFramePair(<span class="stringliteral">&#39;/bodyset/calcn_l&#39;</span>, <span class="stringliteral">&#39;/bodyset/toes_r&#39;</span>, 0.1, inf);</div><div class="line">distance.addFramePair(<span class="stringliteral">&#39;/bodyset/toes_l&#39;</span>, <span class="stringliteral">&#39;/bodyset/calcn_r&#39;</span>, 0.1, inf);</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>This class represents a path constraint, <em>not</em> a model kinematic constraint. Therefore, there are no Lagrange multipliers or constraint forces associated with this constraint. The model's force elements (including actuators) must generate the forces necessary for satisfying this constraint. </dd></dl>
</div><div class="dynheader">
Inheritance diagram for OpenSim::MocoFrameDistanceConstraint:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_open_sim_1_1_moco_frame_distance_constraint.png" usemap="#OpenSim::MocoFrameDistanceConstraint_map" alt=""/>
  <map id="OpenSim::MocoFrameDistanceConstraint_map" name="OpenSim::MocoFrameDistanceConstraint_map">
<area href="class_open_sim_1_1_moco_path_constraint.html" title="A path constraint to be enforced in the optimal control problem. " alt="OpenSim::MocoPathConstraint" shape="rect" coords="0,56,243,80"/>
</map>
 </div></div>

<p><code>#include &lt;<a class="el" href="_moco_frame_distance_constraint_8h_source.html">Moco/Moco/MocoFrameDistanceConstraint.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a493a78e55ab70cd342f9159eb173bdd7"><td class="memItemLeft" align="right" valign="top"><a id="a493a78e55ab70cd342f9159eb173bdd7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addFramePair</b> (<a class="el" href="class_open_sim_1_1_moco_frame_distance_constraint_pair.html">MocoFrameDistanceConstraintPair</a> pair)</td></tr>
<tr class="separator:a493a78e55ab70cd342f9159eb173bdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dc709f48899f95a8776b6fc558f5b2"><td class="memItemLeft" align="right" valign="top"><a id="a10dc709f48899f95a8776b6fc558f5b2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addFramePair</b> (const std::string &amp;frame1_path, const std::string &amp;frame2_path, double minimum_distance, double maximum_distance)</td></tr>
<tr class="separator:a10dc709f48899f95a8776b6fc558f5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_open_sim_1_1_moco_path_constraint"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_open_sim_1_1_moco_path_constraint')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_open_sim_1_1_moco_path_constraint.html">OpenSim::MocoPathConstraint</a></td></tr>
<tr class="memitem:a3e20fc835380551c64053691da8be48e inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top"><a id="a3e20fc835380551c64053691da8be48e"></a>
const <a class="el" href="class_open_sim_1_1_moco_constraint_info.html">MocoConstraintInfo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getConstraintInfo</b> () const</td></tr>
<tr class="separator:a3e20fc835380551c64053691da8be48e inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a2a698c9770708cccf203fd52f09ee inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top"><a id="a73a2a698c9770708cccf203fd52f09ee"></a>
<a class="el" href="class_open_sim_1_1_moco_constraint_info.html">MocoConstraintInfo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>updConstraintInfo</b> ()</td></tr>
<tr class="separator:a73a2a698c9770708cccf203fd52f09ee inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586e4208069d22d182fba0f3dc144251 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top"><a id="a586e4208069d22d182fba0f3dc144251"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setConstraintInfo</b> (const <a class="el" href="class_open_sim_1_1_moco_constraint_info.html">MocoConstraintInfo</a> &amp;cInfo)</td></tr>
<tr class="separator:a586e4208069d22d182fba0f3dc144251 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2b4d097be390d185e6e61d44ff1e28 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_path_constraint.html#aac2b4d097be390d185e6e61d44ff1e28">getPathConstraintIndex</a> () const</td></tr>
<tr class="memdesc:aac2b4d097be390d185e6e61d44ff1e28 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use by solvers.  <a href="class_open_sim_1_1_moco_path_constraint.html#aac2b4d097be390d185e6e61d44ff1e28">More...</a><br /></td></tr>
<tr class="separator:aac2b4d097be390d185e6e61d44ff1e28 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692732769cb6bad5f98a5001e481fb9b inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a692732769cb6bad5f98a5001e481fb9b">calcPathConstraintErrors</a> (const SimTK::State &amp;state, SimTK::Vector &amp;errors) const</td></tr>
<tr class="memdesc:a692732769cb6bad5f98a5001e481fb9b inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate errors in the path constraint equations.  <a href="class_open_sim_1_1_moco_path_constraint.html#a692732769cb6bad5f98a5001e481fb9b">More...</a><br /></td></tr>
<tr class="separator:a692732769cb6bad5f98a5001e481fb9b inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562a932ba844557f3ee6724be2eefaf1 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top"><a id="a562a932ba844557f3ee6724be2eefaf1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a562a932ba844557f3ee6724be2eefaf1">initializeOnModel</a> (const Model &amp;model, const <a class="el" href="class_open_sim_1_1_moco_problem_info.html">MocoProblemInfo</a> &amp;, const int &amp;pathConstraintIndex) const</td></tr>
<tr class="memdesc:a562a932ba844557f3ee6724be2eefaf1 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use by solvers. This also performs error checks on the Problem. <br /></td></tr>
<tr class="separator:a562a932ba844557f3ee6724be2eefaf1 inherit pub_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3070efc431ceb1dd7b62c5b79bb6ea66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_frame_distance_constraint.html#a3070efc431ceb1dd7b62c5b79bb6ea66">initializeOnModelImpl</a> (const Model &amp;model, const <a class="el" href="class_open_sim_1_1_moco_problem_info.html">MocoProblemInfo</a> &amp;) const override</td></tr>
<tr class="memdesc:a3070efc431ceb1dd7b62c5b79bb6ea66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform any caching.  <a href="#a3070efc431ceb1dd7b62c5b79bb6ea66">More...</a><br /></td></tr>
<tr class="separator:a3070efc431ceb1dd7b62c5b79bb6ea66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2980ff37651e980a62f5f5d2b53e0790"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_frame_distance_constraint.html#a2980ff37651e980a62f5f5d2b53e0790">calcPathConstraintErrorsImpl</a> (const SimTK::State &amp;state, SimTK::Vector &amp;errors) const override</td></tr>
<tr class="separator:a2980ff37651e980a62f5f5d2b53e0790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_open_sim_1_1_moco_path_constraint"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_open_sim_1_1_moco_path_constraint')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_open_sim_1_1_moco_path_constraint.html">OpenSim::MocoPathConstraint</a></td></tr>
<tr class="memitem:a63f8fda5971c75f8ee8d2954f72d89a0 inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top"><a id="a63f8fda5971c75f8ee8d2954f72d89a0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_UNNAMED_PROPERTY</b> (<a class="el" href="class_open_sim_1_1_moco_constraint_info.html">MocoConstraintInfo</a>, &quot;The bounds and &quot; &quot;labels for this MocoPathConstraint.&quot;)</td></tr>
<tr class="separator:a63f8fda5971c75f8ee8d2954f72d89a0 inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751ecf718ea93b3d8af487ae2835f3bf inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a751ecf718ea93b3d8af487ae2835f3bf">setNumEquations</a> (int numEqs) const</td></tr>
<tr class="memdesc:a751ecf718ea93b3d8af487ae2835f3bf inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of scalar equations for this <a class="el" href="class_open_sim_1_1_moco_path_constraint.html" title="A path constraint to be enforced in the optimal control problem. ">MocoPathConstraint</a>.  <a href="class_open_sim_1_1_moco_path_constraint.html#a751ecf718ea93b3d8af487ae2835f3bf">More...</a><br /></td></tr>
<tr class="separator:a751ecf718ea93b3d8af487ae2835f3bf inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3149a3f8723a610337d68e514dba42cc inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="memItemLeft" align="right" valign="top"><a id="a3149a3f8723a610337d68e514dba42cc"></a>
const Model &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a3149a3f8723a610337d68e514dba42cc">getModel</a> () const</td></tr>
<tr class="memdesc:a3149a3f8723a610337d68e514dba42cc inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use within virtual function implementations. <br /></td></tr>
<tr class="separator:a3149a3f8723a610337d68e514dba42cc inherit pro_methods_class_open_sim_1_1_moco_path_constraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2980ff37651e980a62f5f5d2b53e0790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2980ff37651e980a62f5f5d2b53e0790">&#9670;&nbsp;</a></span>calcPathConstraintErrorsImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::MocoFrameDistanceConstraint::calcPathConstraintErrorsImpl </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimTK::Vector &amp;&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section user"><dt>Precondition(s):</dt><dd>The state is realized to SimTK::Stage::Position. If you need access to the controls, you must realize to Velocity: <div class="fragment"><div class="line"><a class="code" href="class_open_sim_1_1_moco_path_constraint.html#a3149a3f8723a610337d68e514dba42cc">getModel</a>().realizeVelocity(state);</div></div><!-- fragment --> </dd></dl>

<p>Implements <a class="el" href="class_open_sim_1_1_moco_path_constraint.html#aa16905dadace36a87f10c964b22defbe">OpenSim::MocoPathConstraint</a>.</p>

</div>
</div>
<a id="a3070efc431ceb1dd7b62c5b79bb6ea66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3070efc431ceb1dd7b62c5b79bb6ea66">&#9670;&nbsp;</a></span>initializeOnModelImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::MocoFrameDistanceConstraint::initializeOnModelImpl </td>
          <td>(</td>
          <td class="paramtype">const Model &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_open_sim_1_1_moco_problem_info.html">MocoProblemInfo</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform any caching. </p>
<p>The number of scalar constraint equations this <a class="el" href="class_open_sim_1_1_moco_path_constraint.html" title="A path constraint to be enforced in the optimal control problem. ">MocoPathConstraint</a> implements must be defined here (see <a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a751ecf718ea93b3d8af487ae2835f3bf" title="Set the number of scalar equations for this MocoPathConstraint. ">setNumEquations()</a> below). </p><dl class="section user"><dt>Precondition(s):</dt><dd>The model is initialized (initSystem()) and <a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a3149a3f8723a610337d68e514dba42cc" title="For use within virtual function implementations. ">getModel()</a> is available. The passed-in model is equivalent to <a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a3149a3f8723a610337d68e514dba42cc" title="For use within virtual function implementations. ">getModel()</a>. Use this opportunity to check for errors in user input, in addition to the checks provided in initialize(). </dd></dl>

<p>Implements <a class="el" href="class_open_sim_1_1_moco_path_constraint.html#a1938e72183f64ee886ecba9b9adc4364">OpenSim::MocoPathConstraint</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_moco_frame_distance_constraint_8h_source.html">MocoFrameDistanceConstraint.h</a></li>
</ul>
</div><!-- contents -->
</body>
</html>
